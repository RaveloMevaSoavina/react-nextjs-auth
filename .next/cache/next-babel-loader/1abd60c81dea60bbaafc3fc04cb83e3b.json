{"ast":null,"code":"import { query as q } from 'faunadb';\nimport cookie from 'cookie';\nimport { SECRET_COOKIE } from '../../utils/cookie-auth';\nexport default (async (req, res) => {\n  var _req$headers$cookie;\n\n  const cookies = cookie.parse((_req$headers$cookie = req.headers.cookie) !== null && _req$headers$cookie !== void 0 ? _req$headers$cookie : '');\n  const secret = cookies[SECRET_COOKIE];\n\n  if (!secret) {\n    return res.status(401).send('Auth cookie missing.');\n  } // res.status(200).json({ userId: await profileApi(secret) })\n\n});","map":{"version":3,"sources":["/Users/Nick/Documents/ServeVue/react-auth/with-cookie-auth-fauna/pages/api/profile.js"],"names":["query","q","cookie","SECRET_COOKIE","req","res","cookies","parse","headers","secret","status","send"],"mappings":"AAAA,SAASA,KAAK,IAAIC,CAAlB,QAA2B,SAA3B;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,SAASC,aAAT,QAA8B,yBAA9B;AAEA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAAA;;AACjC,QAAMC,OAAO,GAAGJ,MAAM,CAACK,KAAP,wBAAaH,GAAG,CAACI,OAAJ,CAAYN,MAAzB,qEAAmC,EAAnC,CAAhB;AACA,QAAMO,MAAM,GAAGH,OAAO,CAACH,aAAD,CAAtB;;AAEA,MAAI,CAACM,MAAL,EAAa;AACX,WAAOJ,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,sBAArB,CAAP;AACD,GANgC,CAQjC;;AACD,CATD","sourcesContent":["import { query as q } from 'faunadb'\nimport cookie from 'cookie'\nimport { SECRET_COOKIE } from '../../utils/cookie-auth'\n\nexport default async (req, res) => {\n  const cookies = cookie.parse(req.headers.cookie ?? '')\n  const secret = cookies[SECRET_COOKIE]\n\n  if (!secret) {\n    return res.status(401).send('Auth cookie missing.')\n  }\n\n  // res.status(200).json({ userId: await profileApi(secret) })\n}\n"]},"metadata":{},"sourceType":"module"}