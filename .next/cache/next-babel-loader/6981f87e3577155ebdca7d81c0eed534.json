{"ast":null,"code":"import faunadb from 'faunadb';\nimport cookie from 'cookie';\nexport const FAUNA_SECRET_COOKIE = 'faunaSecret';\nexport const serverClient = new faunadb.Client({\n  secret: process.env.FAUNA_SERVER_KEY\n}); // Used for any authed requests.\n\nexport const faunaClient = secret => new faunadb.Client({\n  secret\n});\nexport const serializeFaunaCookie = userSecret => {\n  const cookieSerialized = cookie.serialize(FAUNA_SECRET_COOKIE, userSecret, {\n    sameSite: 'lax',\n    secure: false,\n    maxAge: 72576000,\n    httpOnly: true,\n    path: '/'\n  });\n  return cookieSerialized;\n};","map":{"version":3,"sources":["/Users/Nick/Documents/ServeVue/react-auth/with-cookie-auth-fauna/utils/fauna-auth.js"],"names":["faunadb","cookie","FAUNA_SECRET_COOKIE","serverClient","Client","secret","process","env","FAUNA_SERVER_KEY","faunaClient","serializeFaunaCookie","userSecret","cookieSerialized","serialize","sameSite","secure","maxAge","httpOnly","path"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,SAApB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AAEA,OAAO,MAAMC,mBAAmB,GAAG,aAA5B;AAEP,OAAO,MAAMC,YAAY,GAAG,IAAIH,OAAO,CAACI,MAAZ,CAAmB;AAC7CC,EAAAA,MAAM,EAAEC,OAAO,CAACC,GAAR,CAAYC;AADyB,CAAnB,CAArB,C,CAIP;;AACA,OAAO,MAAMC,WAAW,GAAGJ,MAAM,IAC/B,IAAIL,OAAO,CAACI,MAAZ,CAAmB;AACjBC,EAAAA;AADiB,CAAnB,CADK;AAKP,OAAO,MAAMK,oBAAoB,GAAGC,UAAU,IAAI;AAChD,QAAMC,gBAAgB,GAAGX,MAAM,CAACY,SAAP,CAAiBX,mBAAjB,EAAsCS,UAAtC,EAAkD;AACzEG,IAAAA,QAAQ,EAAE,KAD+D;AAEzEC,IAAAA,MAAM,OAFmE;AAGzEC,IAAAA,MAAM,EAAE,QAHiE;AAIzEC,IAAAA,QAAQ,EAAE,IAJ+D;AAKzEC,IAAAA,IAAI,EAAE;AALmE,GAAlD,CAAzB;AAOA,SAAON,gBAAP;AACD,CATM","sourcesContent":["import faunadb from 'faunadb'\nimport cookie from 'cookie'\n\nexport const FAUNA_SECRET_COOKIE = 'faunaSecret'\n\nexport const serverClient = new faunadb.Client({\n  secret: process.env.FAUNA_SERVER_KEY,\n})\n\n// Used for any authed requests.\nexport const faunaClient = secret =>\n  new faunadb.Client({\n    secret,\n  })\n\nexport const serializeFaunaCookie = userSecret => {\n  const cookieSerialized = cookie.serialize(FAUNA_SECRET_COOKIE, userSecret, {\n    sameSite: 'lax',\n    secure: process.env.NODE_ENV === 'production',\n    maxAge: 72576000,\n    httpOnly: true,\n    path: '/',\n  })\n  return cookieSerialized\n}\n"]},"metadata":{},"sourceType":"module"}